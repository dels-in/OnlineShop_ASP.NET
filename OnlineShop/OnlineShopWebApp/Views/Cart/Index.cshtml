@model IEnumerable<Product>

@{
    ViewBag.Title = "Cart";
    Layout = "_Layout";
}

<h2>Cart</h2>
<hr width="650"/>
@foreach (var product in Model.Distinct())
{
    <ul class="list-group">
        <li class="list-group-item d-flex justify-content-between align-items-center w-50">
            @product.Name
            <a asp-controller="Cart" asp-action="Reduce" asp-route-id="@product.Id">
                <img src="~/images/minus.png" height="15" alt="reduce"/>
            </a>
            <span class="badge bg-primary rounded-pill">@Model.Count(p => p.Name == product.Name)</span>
            <a asp-controller="Cart" asp-action="AddToCartRedirect" asp-route-id="@product.Id">
                <img src="~/images/plus.png" height="15" alt="add"/>
            </a>
            @((product.Cost * Model.Count(p => p.Name == product.Name)).ToString("C"))
            <a asp-controller="Cart" asp-action="Delete" asp-route-id="@product.Id">
                <img src="~/images/delete.png" height="30" alt="delete"/>
            </a>
        </li>
    </ul>
}
<hr width="650"/>
<h6>
    Subtotal = @Model.Sum(product => product.Cost).ToString("C")
</h6>